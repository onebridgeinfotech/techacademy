{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UdayaCharagundla\\\\OneDrive - kyndryl\\\\Desktop\\\\golive\\\\golive-cursor\\\\techacademy\\\\src\\\\components\\\\Chatbot.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { MessageCircle, X, Send, Settings, Bot, User, Loader2, AlertCircle, Lightbulb } from 'lucide-react';\nimport { chatbotService } from '../services/chatbotService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chatbot = ({\n  isOpen,\n  onToggle\n}) => {\n  _s();\n  var _messages;\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [apiKey, setApiKey] = useState('');\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  // Load conversation history and API key on mount\n  useEffect(() => {\n    const history = chatbotService.getConversationHistory();\n    setMessages(history);\n    const savedApiKey = localStorage.getItem('techacademy_openai_key');\n    if (savedApiKey) {\n      setApiKey(savedApiKey);\n      chatbotService.updateApiKey(savedApiKey);\n    }\n  }, []);\n\n  // Scroll to bottom when new messages arrive\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Handle sending message\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n    const userMessage = inputMessage.trim();\n    setInputMessage('');\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await chatbotService.sendMessage(userMessage);\n      if (response.error) {\n        setError(response.error);\n      }\n\n      // Update messages from service\n      const updatedHistory = chatbotService.getConversationHistory();\n      setMessages(updatedHistory);\n    } catch (err) {\n      setError(err.message || 'Failed to send message');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Handle quick response\n  const handleQuickResponse = message => {\n    setInputMessage(message);\n  };\n\n  // Handle suggestion click\n  const handleSuggestionClick = suggestion => {\n    setInputMessage(suggestion);\n  };\n\n  // Save API key\n  const handleSaveApiKey = () => {\n    if (apiKey.trim()) {\n      chatbotService.updateApiKey(apiKey.trim());\n      localStorage.setItem('techacademy_openai_key', apiKey.trim());\n      setShowSettings(false);\n      setError(null);\n    }\n  };\n\n  // Clear conversation\n  const handleClearConversation = () => {\n    chatbotService.clearConversation();\n    setMessages([]);\n  };\n\n  // Handle key press\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const quickResponses = chatbotService.getQuickResponses();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!isOpen && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onToggle,\n      className: \"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 z-50\",\n      children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n        className: \"h-6 w-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl border border-gray-200 z-50 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-600 text-white p-4 rounded-t-2xl flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Bot, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold\",\n              children: \"TechAcademy AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-100\",\n              children: \"Your learning assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(!showSettings),\n            className: \"p-2 hover:bg-blue-700 rounded-lg transition-colors\",\n            title: \"Settings\",\n            children: /*#__PURE__*/_jsxDEV(Settings, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onToggle,\n            className: \"p-2 hover:bg-blue-700 rounded-lg transition-colors\",\n            title: \"Close\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), showSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200 bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-gray-900 mb-3\",\n          children: \"API Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"OpenAI API Key\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: apiKey,\n              onChange: e => setApiKey(e.target.value),\n              placeholder: \"Enter your OpenAI API key\",\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveApiKey,\n              className: \"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowSettings(false),\n              className: \"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-400 transition-colors\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n        children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 py-8\",\n          children: [/*#__PURE__*/_jsxDEV(Bot, {\n            className: \"h-12 w-12 mx-auto mb-4 text-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: \"Hi! I'm your TechAcademy assistant.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 mt-1\",\n            children: \"Ask me about courses, assessments, or anything else!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }, this), messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-[80%] rounded-lg p-3 ${message.role === 'user' ? 'bg-blue-600 text-white' : message.type === 'error' ? 'bg-red-50 text-red-800 border border-red-200' : 'bg-gray-100 text-gray-900'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-2\",\n              children: [message.role === 'assistant' && /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"h-4 w-4 mt-0.5 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 23\n              }, this), message.role === 'user' && /*#__PURE__*/_jsxDEV(User, {\n                className: \"h-4 w-4 mt-0.5 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm whitespace-pre-wrap\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 23\n                }, this), message.type === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center mt-2 text-red-600\",\n                  children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                    className: \"h-3 w-3 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs\",\n                    children: \"Error occurred\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 rounded-lg p-3 max-w-[80%]\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Bot, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Thinking...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this), messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mb-2\",\n          children: \"Quick questions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: quickResponses.slice(0, 3).map((response, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleQuickResponse(response.message),\n            className: \"text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors\",\n            children: response.label\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }, this), messages.length > 0 && ((_messages = messages[messages.length - 1]) === null || _messages === void 0 ? void 0 : _messages.role) === 'assistant' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n            className: \"h-4 w-4 text-yellow-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Suggested questions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: ['Tell me about your programs', 'How do I apply?', 'What are the fees?'].map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSuggestionClick(suggestion),\n            className: \"text-xs bg-gray-50 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-100 transition-colors\",\n            children: suggestion\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-red-200 bg-red-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-red-700\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: \"Ask me anything about TechAcademy...\",\n            className: \"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\",\n            disabled: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSendMessage,\n            disabled: !inputMessage.trim() || isLoading,\n            className: \"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n            children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"h-4 w-4 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Send, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Chatbot, \"0qD2GxXsGfK5msCNuhemwYfhNJk=\");\n_c = Chatbot;\nexport default Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MessageCircle","X","Send","Settings","Bot","User","Loader2","AlertCircle","Lightbulb","chatbotService","jsxDEV","_jsxDEV","Fragment","_Fragment","Chatbot","isOpen","onToggle","_s","_messages","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","showSettings","setShowSettings","apiKey","setApiKey","error","setError","messagesEndRef","history","getConversationHistory","savedApiKey","localStorage","getItem","updateApiKey","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","response","sendMessage","updatedHistory","err","message","handleQuickResponse","handleSuggestionClick","suggestion","handleSaveApiKey","setItem","handleClearConversation","clearConversation","handleKeyPress","e","key","shiftKey","preventDefault","quickResponses","getQuickResponses","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","title","type","value","onChange","target","placeholder","length","map","role","content","id","ref","slice","index","label","onKeyPress","disabled","_c","$RefreshReg$"],"sources":["C:/Users/UdayaCharagundla/OneDrive - kyndryl/Desktop/golive/golive-cursor/techacademy/src/components/Chatbot.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  MessageCircle, \r\n  X, \r\n  Send, \r\n  Settings, \r\n  Bot, \r\n  User, \r\n  Loader2,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Lightbulb\r\n} from 'lucide-react';\r\nimport { chatbotService, ChatMessage } from '../services/chatbotService';\r\n\r\ninterface ChatbotProps {\r\n  isOpen: boolean;\r\n  onToggle: () => void;\r\n}\r\n\r\nconst Chatbot: React.FC<ChatbotProps> = ({ isOpen, onToggle }) => {\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [apiKey, setApiKey] = useState('');\r\n  const [error, setError] = useState<string | null>(null);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Load conversation history and API key on mount\r\n  useEffect(() => {\r\n    const history = chatbotService.getConversationHistory();\r\n    setMessages(history);\r\n    \r\n    const savedApiKey = localStorage.getItem('techacademy_openai_key');\r\n    if (savedApiKey) {\r\n      setApiKey(savedApiKey);\r\n      chatbotService.updateApiKey(savedApiKey);\r\n    }\r\n  }, []);\r\n\r\n  // Scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Handle sending message\r\n  const handleSendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    const userMessage = inputMessage.trim();\r\n    setInputMessage('');\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await chatbotService.sendMessage(userMessage);\r\n      \r\n      if (response.error) {\r\n        setError(response.error);\r\n      }\r\n\r\n      // Update messages from service\r\n      const updatedHistory = chatbotService.getConversationHistory();\r\n      setMessages(updatedHistory);\r\n\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to send message');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle quick response\r\n  const handleQuickResponse = (message: string) => {\r\n    setInputMessage(message);\r\n  };\r\n\r\n  // Handle suggestion click\r\n  const handleSuggestionClick = (suggestion: string) => {\r\n    setInputMessage(suggestion);\r\n  };\r\n\r\n  // Save API key\r\n  const handleSaveApiKey = () => {\r\n    if (apiKey.trim()) {\r\n      chatbotService.updateApiKey(apiKey.trim());\r\n      localStorage.setItem('techacademy_openai_key', apiKey.trim());\r\n      setShowSettings(false);\r\n      setError(null);\r\n    }\r\n  };\r\n\r\n  // Clear conversation\r\n  const handleClearConversation = () => {\r\n    chatbotService.clearConversation();\r\n    setMessages([]);\r\n  };\r\n\r\n  // Handle key press\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const quickResponses = chatbotService.getQuickResponses();\r\n\r\n  return (\r\n    <>\r\n      {/* Chatbot Toggle Button */}\r\n      {!isOpen && (\r\n        <button\r\n          onClick={onToggle}\r\n          className=\"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 z-50\"\r\n        >\r\n          <MessageCircle className=\"h-6 w-6\" />\r\n        </button>\r\n      )}\r\n\r\n      {/* Chatbot Window */}\r\n      {isOpen && (\r\n        <div className=\"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl border border-gray-200 z-50 flex flex-col\">\r\n          {/* Header */}\r\n          <div className=\"bg-blue-600 text-white p-4 rounded-t-2xl flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Bot className=\"h-6 w-6\" />\r\n              <div>\r\n                <h3 className=\"font-semibold\">TechAcademy AI</h3>\r\n                <p className=\"text-xs text-blue-100\">Your learning assistant</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={() => setShowSettings(!showSettings)}\r\n                className=\"p-2 hover:bg-blue-700 rounded-lg transition-colors\"\r\n                title=\"Settings\"\r\n              >\r\n                <Settings className=\"h-4 w-4\" />\r\n              </button>\r\n              <button\r\n                onClick={onToggle}\r\n                className=\"p-2 hover:bg-blue-700 rounded-lg transition-colors\"\r\n                title=\"Close\"\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Settings Panel */}\r\n          {showSettings && (\r\n            <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\r\n              <h4 className=\"font-semibold text-gray-900 mb-3\">API Configuration</h4>\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    OpenAI API Key\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={apiKey}\r\n                    onChange={(e) => setApiKey(e.target.value)}\r\n                    placeholder=\"Enter your OpenAI API key\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={handleSaveApiKey}\r\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    Save\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setShowSettings(false)}\r\n                    className=\"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-400 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Messages */}\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n            {messages.length === 0 && (\r\n              <div className=\"text-center text-gray-500 py-8\">\r\n                <Bot className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\r\n                <p className=\"text-sm\">Hi! I'm your TechAcademy assistant.</p>\r\n                <p className=\"text-xs text-gray-400 mt-1\">Ask me about courses, assessments, or anything else!</p>\r\n              </div>\r\n            )}\r\n\r\n            {messages.map((message) => (\r\n              <div\r\n                key={message.id}\r\n                className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\r\n              >\r\n                <div\r\n                  className={`max-w-[80%] rounded-lg p-3 ${\r\n                    message.role === 'user'\r\n                      ? 'bg-blue-600 text-white'\r\n                      : message.type === 'error'\r\n                      ? 'bg-red-50 text-red-800 border border-red-200'\r\n                      : 'bg-gray-100 text-gray-900'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-start space-x-2\">\r\n                    {message.role === 'assistant' && (\r\n                      <Bot className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\r\n                    )}\r\n                    {message.role === 'user' && (\r\n                      <User className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\r\n                    )}\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\r\n                      {message.type === 'error' && (\r\n                        <div className=\"flex items-center mt-2 text-red-600\">\r\n                          <AlertCircle className=\"h-3 w-3 mr-1\" />\r\n                          <span className=\"text-xs\">Error occurred</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {isLoading && (\r\n              <div className=\"flex justify-start\">\r\n                <div className=\"bg-gray-100 rounded-lg p-3 max-w-[80%]\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Bot className=\"h-4 w-4\" />\r\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                    <span className=\"text-sm text-gray-600\">Thinking...</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {/* Quick Responses */}\r\n          {messages.length === 0 && (\r\n            <div className=\"p-4 border-t border-gray-200\">\r\n              <p className=\"text-xs text-gray-500 mb-2\">Quick questions:</p>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {quickResponses.slice(0, 3).map((response, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => handleQuickResponse(response.message)}\r\n                    className=\"text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors\"\r\n                  >\r\n                    {response.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Suggestions */}\r\n          {messages.length > 0 && messages[messages.length - 1]?.role === 'assistant' && (\r\n            <div className=\"p-4 border-t border-gray-200\">\r\n              <div className=\"flex items-center space-x-2 mb-2\">\r\n                <Lightbulb className=\"h-4 w-4 text-yellow-500\" />\r\n                <p className=\"text-xs text-gray-500\">Suggested questions:</p>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {['Tell me about your programs', 'How do I apply?', 'What are the fees?'].map((suggestion, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => handleSuggestionClick(suggestion)}\r\n                    className=\"text-xs bg-gray-50 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-100 transition-colors\"\r\n                  >\r\n                    {suggestion}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Error Display */}\r\n          {error && (\r\n            <div className=\"p-4 border-t border-red-200 bg-red-50\">\r\n              <div className=\"flex items-center space-x-2 text-red-700\">\r\n                <AlertCircle className=\"h-4 w-4\" />\r\n                <span className=\"text-sm\">{error}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Input */}\r\n          <div className=\"p-4 border-t border-gray-200\">\r\n            <div className=\"flex space-x-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={inputMessage}\r\n                onChange={(e) => setInputMessage(e.target.value)}\r\n                onKeyPress={handleKeyPress}\r\n                placeholder=\"Ask me anything about TechAcademy...\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n                disabled={isLoading}\r\n              />\r\n              <button\r\n                onClick={handleSendMessage}\r\n                disabled={!inputMessage.trim() || isLoading}\r\n                className=\"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                {isLoading ? (\r\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                ) : (\r\n                  <Send className=\"h-4 w-4\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}